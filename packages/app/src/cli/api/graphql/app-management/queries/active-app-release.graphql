query activeAppRelease($appId: ID!) {
  app(id: $appId) {
    ...AppVersionInfo
  }
}

fragment AppVersionInfo on App {
  id
  key
  organizationId
  activeRoot {
    clientCredentials {
      secrets {
        key
      }
    }
  }
  activeRelease {
    id
    version {
      name
        appModules {
          ...ReleasedAppModule
        }
    }
  }
}

fragment ReleasedAppModule on AppModule {
  uuid
  userIdentifier
  handle
  config
  target
  specification {
    identifier
    externalIdentifier
    name
    managementExperience
  }
}
